{"version":3,"sources":["auth/AuthProvider.js","auth/useAuth.js","routers/PrivateRoute.js","routers/PublicRoute.js","pages/CategoriesPage.js","routers/CategoriesRouter.js","pages/AboutPage.js","pages/ContactPage.js","pages/HomePage.js","pages/NotFoundPage.js","pages/ProfilePage.js","pages/LoginPage.js","pages/PaymentPage.js","pages/DashboardPage.js","pages/RegisterPage.js","components/Navbar/index.js","routers/AppRouter.js","App.js","index.js"],"names":["AuthContext","createContext","AuthProvider","children","useState","JSON","parse","localStorage","getItem","user","setUser","useEffect","setItem","stringify","ex","removeItem","console","log","contextValue","login","id","username","logout","isLogged","Provider","value","useAuth","useContext","PrivateRoute","Component","component","rest","auth","location","useLocation","to","pathname","state","from","PublicRoute","CategoriesPage","history","useHistory","query","URLSearchParams","search","skip","Number","get","limit","type","onClick","set","push","toString","CategoriesRouter","activeClassName","exact","path","Categories","AboutPage","ContactPage","HomePage","NotFoundPage","ProfilePage","useParams","LoginPage","previousObjectURL","PaymentPage","DashboardPage","RegisterPage","Index","AppRouter","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c5e5a77c.chunk.js","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(\r\n    JSON.parse(localStorage.getItem(\"user\")) || null\r\n  );\r\n\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n    } catch (ex) {\r\n      localStorage.removeItem(\"user\");\r\n      console.log(ex);\r\n    }\r\n  }, [user]);\r\n\r\n  const contextValue = {\r\n    user,\r\n    login() {\r\n      setUser({ id: 1, username: \"luis50\" });\r\n    },\r\n    logout() {\r\n      setUser(null);\r\n    },\r\n    isLogged() {\r\n      return !!user;\r\n    },\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n","import { useContext } from 'react';\r\n\r\nimport { AuthContext } from './AuthProvider';\r\n\r\nexport default function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n","import { Route, Redirect, useLocation } from \"react-router\";\r\nimport useAuth from \"../auth/useAuth\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const auth = useAuth();\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <Route {...rest}>\r\n      {auth.isLogged() ? (\r\n        <Component />\r\n      ) : (\r\n        <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\r\n      )}\r\n    </Route>\r\n  );\r\n}\r\n","import { Route, Redirect } from \"react-router\";\r\nimport useAuth from \"../auth/useAuth\";\r\n\r\nexport default function PublicRoute({ component: Component, ...rest }) {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <Route {...rest}>\r\n      {!auth.isLogged() ? <Component /> : <Redirect to=\"/dashboard\" />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nfunction CategoriesPage() {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const query = new URLSearchParams(location.search);\r\n  const skip = Number(query.get(\"skip\")) || 0;\r\n  const limit = Number(query.get(\"limit\")) || 10;\r\n\r\n  const handleNext = () => {\r\n    query.set(\"skip\", skip + limit);\r\n    history.push({ search: query.toString() });\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Categories Page</h1>\r\n      <h2>skip: {skip}</h2>\r\n      <h2>limit: {limit}</h2>\r\n      <button type=\"button\" onClick={handleNext}>\r\n        Next\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoriesPage;\r\n","import { NavLink, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport Categories from \"../pages/CategoriesPage\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\n// test\r\nexport default function CategoriesRouter() {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        <li>\r\n          <NavLink activeClassName=\"active\" exact to=\"/categories\">\r\n            All\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName=\"active\" exact to=\"/categories/terror\">\r\n            Terror\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName=\"active\" exact to=\"/categories/action\">\r\n            Action\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName=\"active\" exact to=\"/categories/anime\">\r\n            Anime\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n      <Switch>\r\n        <Route path=\"/categories\" exact component={Categories} />\r\n        <PrivateRoute\r\n          path=\"/categories/terror\"\r\n          exact\r\n          component={() => <h1>Category terror</h1>}\r\n        />\r\n        <Route path=\"/categories/action\" exact>\r\n          <h1>Category action</h1>\r\n        </Route>\r\n        <Route path=\"/categories/anime\" exact>\r\n          <h1>Category anime</h1>\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <Redirect to=\"/404\" />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nfunction AboutPage() {\r\n  return (\r\n    <div>\r\n      <h1>AbountPage</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AboutPage\r\n","import React from 'react'\r\n\r\nfunction ContactPage() {\r\n  return (\r\n    <div>\r\n      <h1>Contact Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContactPage\r\n","import React from 'react'\r\n\r\nfunction HomePage() {\r\n  return (\r\n    <div>\r\n      <h1>Home Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n","import React from 'react'\r\n\r\nfunction NotFoundPage() {\r\n  return (\r\n    <div>\r\n      <h1>Not Found Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFoundPage\r\n","import { useParams } from \"react-router-dom\";\r\n\r\nfunction ProfilePage() {\r\n  const { username } = useParams();\r\n\r\n  return (\r\n    <div>\r\n      <h1>Profile Page: { username }</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfilePage\r\n","import { useHistory, useLocation } from \"react-router-dom\";\r\nimport useAuth from \"../auth/useAuth\";\r\n\r\nexport default function LoginPage() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const previousObjectURL = location.state?.from;\r\n\r\n  const auth = useAuth();\r\n  const handleLogin = () => {\r\n    auth.login();\r\n    history.push(previousObjectURL || \"/dashboard\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login Page</h1>\r\n      <button onClick={handleLogin}>Signing</button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nfunction PaymentPage() {\r\n  return (\r\n    <div>\r\n      <h1>PaymentPage</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PaymentPage\r\n","import React from 'react'\r\n\r\nfunction DashboardPage() {\r\n  return (\r\n    <div>\r\n      <h1>DashboardPage</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DashboardPage\r\n","import React from 'react'\r\n\r\nfunction RegisterPage() {\r\n  return (\r\n    <div>\r\n      <h1>RegisterPage</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RegisterPage\r\n","import { NavLink } from \"react-router-dom\";\r\nimport useAuth from \"../../auth/useAuth\";\r\n\r\nfunction Index() {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <div>\r\n      <nav>\r\n        <ul>\r\n          <li>\r\n            <NavLink activeClassName=\"active\" exact to=\"/\">\r\n              Home\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink activeClassName=\"active\" exact to=\"/about\">\r\n              About\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink activeClassName=\"active\" exact to=\"/contact\">\r\n              Contact\r\n            </NavLink>\r\n          </li>\r\n\r\n          <li>\r\n            <NavLink activeClassName=\"active\" to=\"/categories\">\r\n              Categories\r\n            </NavLink>\r\n          </li>\r\n          {!auth.isLogged() && (\r\n            <>\r\n              <li>\r\n                <NavLink activeClassName=\"active\" exact to=\"/login\">\r\n                  Login\r\n                </NavLink>\r\n              </li>\r\n              <li>\r\n                <NavLink activeClassName=\"active\" exact to=\"/register\">\r\n                  Register\r\n                </NavLink>\r\n              </li>\r\n            </>\r\n          )}\r\n          {auth.isLogged() && (\r\n            <>\r\n              <li>\r\n                <NavLink activeClassName=\"active\" exact to=\"/dashboard\">\r\n                  Dashboard\r\n                </NavLink>\r\n              </li>\r\n              <li>\r\n                <NavLink activeClassName=\"active\" exact to=\"/payment\">\r\n                  Payments\r\n                </NavLink>\r\n              </li>\r\n              <li>\r\n                <button onClick={auth.logout}>Logout</button>\r\n              </li>\r\n            </>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  Switch\r\n} from \"react-router-dom\";\r\n\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport PublicRoute from \"./PublicRoute\";\r\nimport CategoriesRouter from \"./CategoriesRouter\";\r\n\r\nimport AboutPage from \"../pages/AboutPage\";\r\nimport ContactPage from \"../pages/ContactPage\";\r\nimport HomePage from \"../pages/HomePage\";\r\nimport NotFoundPage from \"../pages/NotFoundPage\";\r\nimport ProfilePage from \"../pages/ProfilePage\";\r\n\r\nimport LoginPage from \"../pages/LoginPage\";\r\nimport PaymentPage from \"../pages/PaymentPage\";\r\nimport DashboardPage from \"../pages/DashboardPage\";\r\nimport RegisterPage from \"../pages/RegisterPage\";\r\n\r\nimport NavBar from \"../components/Navbar\";\r\n\r\nexport default function AppRouter() {\r\n  return (\r\n    <Router>\r\n      <NavBar />\r\n      <Switch>\r\n        <Route path=\"/about\" exact component={AboutPage} />\r\n        <Route path=\"/contact\" exact component={ContactPage} />\r\n        <Route path=\"/home\" exact component={HomePage} />\r\n        <Route path=\"/profile/:username\" exact component={ProfilePage} />\r\n        <Route path=\"/signing\">\r\n          <Redirect to=\"/login\" />\r\n        </Route>\r\n        <Route path=\"/categories\" component={CategoriesRouter} />\r\n        <PublicRoute path=\"/login\" exact component={LoginPage} />\r\n        <PublicRoute path=\"/register\" exact component={RegisterPage} />\r\n        <PrivateRoute path=\"/dashboard\" exact component={DashboardPage} />\r\n        <PrivateRoute path=\"/payment\" exact component={PaymentPage} />\r\n        <Route path=\"/404\" exact component={NotFoundPage} />\r\n        <Route path=\"*\">\r\n          <Redirect to=\"/404\" />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\n","import AuthProvider from \"./auth/AuthProvider\";\nimport AppRouter from \"./routers/AppRouter\";\n\nfunction App() {\n  return (\n    <div>\n      <AuthProvider>\n        <AppRouter />\n      </AuthProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}